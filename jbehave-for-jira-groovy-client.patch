Index: jbehave-for-jira/jbehave-for-jira-groovy-client/src/main/groovy/com/jbehaveforjira/groovyclient/GroovyStepDocReporter.groovy
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- jbehave-for-jira/jbehave-for-jira-groovy-client/src/main/groovy/com/jbehaveforjira/groovyclient/GroovyStepDocReporter.groovy	(date 1410985045000)
+++ jbehave-for-jira/jbehave-for-jira-groovy-client/src/main/groovy/com/jbehaveforjira/groovyclient/GroovyStepDocReporter.groovy	(revision )
@@ -250,6 +250,17 @@
 
         } else {
             // not a table type, but still may be a list type
+            // check if enum
+            if (classType.isEnum()) {
+                Object[] enumConstants = classType.getEnumConstants();
+                List<String> allowedvalues = new ArrayList<>(enumConstants.length);
+                for (Object enumConstant : enumConstants) {
+                    Enum e = (Enum)enumConstant;
+                    allowedvalues.add(e.name());
+                }
+                parameterInfo.allowedValues = allowedvalues;
+            }
+
         }
     }
 
Index: jbehave-for-jira/jbehave-for-jira-groovy-client/src/main/groovy/com/jbehaveforjira/groovyclient/GroovyStoryReporter.groovy
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- jbehave-for-jira/jbehave-for-jira-groovy-client/src/main/groovy/com/jbehaveforjira/groovyclient/GroovyStoryReporter.groovy	(date 1410985045000)
+++ jbehave-for-jira/jbehave-for-jira-groovy-client/src/main/groovy/com/jbehaveforjira/groovyclient/GroovyStoryReporter.groovy	(revision )
@@ -588,26 +588,39 @@
             patterns.setProperty("beforeStory", "<div class=\"story-report\">\n");
 
             patterns.setProperty("description",
-                    "<div class=\"jb-story-report-description cm-jb-story-description-line\">{0}</div>\n<br>")
+                    "<div class=\"jb-story-report-description\">{0}</div>\n")
 
             patterns.setProperty("afterStory", "</div>\n");
             // TODO - canceled story?
             patterns.setProperty("storyCancelled", "<div class=\"cancelled\">{0} ({1} {2} s)</div>\n");
 
-            // meta
             patterns.setProperty("metaStart",
-                    "<div>\n" +
-                            "<div class=\"jb-story-report-meta cm-jb-story-meta-title\">{0}</div>\n");
+                    "<div class=\"jb-story-report-meta jb-story-ele-exp-container\">\n" +
+                            "<div>" +
+                            "<a href=\"#\" class=\"jb-story-ele-exp-trigger collapsed\" style=\"text-decoration: none;\">" +
+                            "<span class=\"jb-story-report-meta-keyword\">{0}</span>" +
+                            "</a>" +
+                            "</div>\n" +
+                            "<div class=\"jb-story-ele-exp-content\" style=\"display: none;\">\n"
+
+            );
+            // meta
             patterns.setProperty("metaProperty", "<div class=\"cm-jb-story-meta-field\">{0}{1} {2}</div>\n");
-            patterns.setProperty("metaEnd", "</div>\n<br>");
+            patterns.setProperty("metaEnd", "</div>\n</div>\n");
 
             // TODO - where is this filter?
             patterns.setProperty("filter", "<div class=\"filter\">{0}</div>\n");
 
             patterns.setProperty("narrative",
-                    "<div class=\"\">" +
-                            "<div class=\"jb-story-report-narrative cm-jb-story-narrative-title\">{0}</div>\n" +
+                    "<div class=\"jb-story-report-narrative jb-story-ele-exp-container\">" +
                             "<div>" +
+                            "<a href=\"#\" class=\"jb-story-ele-exp-trigger collapsed\" style=\"text-decoration: none;\">" +
+                            "<span class=\"jb-story-report-narrative-keyword\">{0}</span>" +
+                            "</a>" +
+                            "</div>\n" +
+
+                            "<div class=\"jb-story-ele-exp-content\" style=\"display: none;\">" +
+                            "<div>" +
                             "<span class=\"cm-jb-story-narrative-field-keyword\">{1}</span> " +
                             "<span class=\"cm-jb-story-narrative-field-value\">{2}</span>" +
                             "</div>\n" +
@@ -619,16 +632,22 @@
                             "<span class=\"cm-jb-story-narrative-field-keyword\">{5}</span> " +
                             "<span class=\"cm-jb-story-narrative-field-value\">{6}</span>" +
                             "</div>\n" +
-                            "</div>\n<br>");
+                            "</div>\n" +
+                            "</div>\n");
 
             patterns.setProperty("lifecycleStart",
-                    "<div class=\"lifecycle\">" +
-                            "<div class=\"jb-story-report-lifecycle cm-jb-story-lifecycle\">{0}</div>"
+                    "<div class=\"jb-story-report-lifecycle jb-story-ele-exp-container\">" +
+                            "<div>" +
+                            "<a href=\"#\" class=\"jb-story-ele-exp-trigger collapsed\" style=\"text-decoration: none;\">" +
+                            "<span class=\"jb-story-report-lifecycle-keyword\">{0}</span>" +
+                            "</a>" +
+                            "</div>" +
+                            "<div class=\"jb-story-ele-exp-content\" style=\"display: none;\">"
             );
-            patterns.setProperty("lifecycleEnd", "</div><br>");
+            patterns.setProperty("lifecycleEnd", "</div>\n</div>\n");
             patterns.setProperty("lifecycleBeforeStart",
                     "<div class=\"before\">" +
-                            "<div class=\"cm-jb-story-lifecycle-before\">{0}</div>"
+                            "<div class=\"cm-jb-story-lifecycle-before\">{0}</div>\n"
             );
             patterns.setProperty("lifecycleBeforeEnd", "</div>");
             patterns.setProperty("lifecycleAfterStart",
@@ -643,19 +662,21 @@
                             "</div>\n");
 
             patterns.setProperty("beforeScenario",
-                    "<div>\n" +
-                            "<div class=\"jb-story-report-scenario\">" +
+                    "<div class=\"jb-story-ele-exp-container\">\n" +
+                            "<div class=\"jb-story-report-scenario-title\">" +
+                            "<a href=\"#\" class=\"jb-story-ele-exp-trigger collapsed\" style=\"text-decoration: none;\">" +
                             "<span class=\"cm-jb-story-scenario-keyword\">{0} </span>" +
                             "<span class=\"cm-jb-story-scenario-title\">{1}</span>" +
+                            "</a>" +
                             " <span class=\"[scenario_status_lozenge_class]\">[scenario_status_lozenge_text]</span>" +
-//                            "<span class=\"aui-lozenge aui-lozenge-success\">Success</span>" +
+                            //                            "<span class=\"aui-lozenge aui-lozenge-success\">Success</span>" +
-
-//                            " <span class=\"aui-lozenge aui-lozenge-error\">failed</span>" +
+                            //                            " <span class=\"aui-lozenge aui-lozenge-error\">failed</span>" +
-                            "</div>\n"
+                            "</div>\n" +
+                            "<div class=\"jb-story-ele-exp-content\" style=\"display: none;\">"
             );
-            patterns.setProperty("afterScenario", "</div>\n<br>");
-//            patterns.setProperty("afterScenarioWithFailure", "<pre class=\"failure\">{0}</pre>\n</div>\n<br>");
-            patterns.setProperty("afterScenarioWithFailure", "</div>\n<br>");
+            patterns.setProperty("afterScenario", "</div>\n</div>\n");
+//            patterns.setProperty("afterScenarioWithFailure", "<pre class=\"failure\">{0}</pre>\n</div>\n");
+            patterns.setProperty("afterScenarioWithFailure", "</div>\n");
 
             patterns.setProperty("givenStories", "<div class=\"givenStories\">{0} {1}</div>\n");
             patterns.setProperty("givenStoriesStart", "<div class=\"givenStories\">{0}\n");
Index: jbehave-for-jira/jbehave-for-jira-groovy-client/pom.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- jbehave-for-jira/jbehave-for-jira-groovy-client/pom.xml	(date 1410985045000)
+++ jbehave-for-jira/jbehave-for-jira-groovy-client/pom.xml	(revision )
@@ -16,6 +16,7 @@
                 <directory>src/main/groovy</directory>
             </resource>
         </resources>
+        <!--<sourceDirectory>src/main/groovy</sourceDirectory>-->
         <plugins>
             <plugin>
                 <groupId>org.codehaus.gmavenplus</groupId>
@@ -35,7 +36,7 @@
                                     </includes>
                                 </source>
                             </sources>
-                            <outputDirectory>target/compiled-groovy</outputDirectory>
+                            <!--<outputDirectory>target/compiled-groovy</outputDirectory>-->
                         </configuration>
                     </execution>
                 </executions>
\ No newline at end of file
